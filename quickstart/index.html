<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Quick Start · JuliaDispatch.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">JuliaDispatch.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">JuliaDispatch: Analysis and Visualization Tools for Dispatch</a></li><li class="is-active"><a class="tocitem" href>Quick Start</a><ul class="internal"><li><a class="tocitem" href="#Installation-and-Setup"><span>Installation and Setup</span></a></li><li><a class="tocitem" href="#Functionality"><span>Functionality</span></a></li><li><a class="tocitem" href="#Usage-Examples"><span>Usage Examples</span></a></li></ul></li><li><a class="tocitem" href="../dispatch/">Dispatch</a></li><li><a class="tocitem" href="../graphics/">Graphics</a></li><li><a class="tocitem" href="../select/">Select</a></li><li><a class="tocitem" href="../buffers/">Buffers</a></li><li><a class="tocitem" href="../utils/">Utils</a></li><li><a class="tocitem" href="../analysis/">Analysis</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Quick Start</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Quick Start</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/casparwb/JuliaDispatch.jl/blob/master/docs/src/quickstart.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Quick-Start-Guide"><a class="docs-heading-anchor" href="#Quick-Start-Guide">Quick-Start Guide</a><a id="Quick-Start-Guide-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-Start-Guide" title="Permalink"></a></h1><h2 id="Installation-and-Setup"><a class="docs-heading-anchor" href="#Installation-and-Setup">Installation and Setup</a><a id="Installation-and-Setup-1"></a><a class="docs-heading-anchor-permalink" href="#Installation-and-Setup" title="Permalink"></a></h2><div class="admonition is-info"><header class="admonition-header">Multi-threading</header><div class="admonition-body"><p><code>JuliaDispatch</code> uses multi-threading to speed up the process of parsing patches. It is recommend you start your Julia session with more than one thread. This can be done by typing <code>julia -threads N</code> when starting Julia, where <code>N</code> is the number of threads. You can also do this using the environment variable by setting <code>export JULIA_NUM_THREADS=N</code>. See <a href="https://docs.julialang.org/en/v1/manual/multi-threading/">docs</a> for more information.</p></div></div><p>Open your Julia REPL terminal and type &#39;]&#39; to enter the package manager, followed by</p><pre><code class="language-julia hljs">pkg&gt; add &quot;https://github.com/casparwb/JuliaDispatch.jl&quot;</code></pre><p>After having installed the packages, exit the package manager with backspace, and type</p><pre><code class="language-julia hljs">using JuliaDispatch</code></pre><p>Note that things will be quite slow the first time you add and import a package, in addition to when you call a function. This is due to Julia&#39;s precompilation routine, and only happens the first time you call a function.</p><p>Importing <code>JuliaDispatch</code> does not include any functions into your workspace, but rather allows you to load the individual modules. These modules are</p><ul><li><strong>Dispatch</strong>: this submodule contains the <code>snapshot(...)</code> function which allows reading in a snapshot and saving all the metadata into a dictionary.</li><li><strong>Graphics</strong>: high-level plotting of slices (planes), volumes, and 1-d quantities.</li><li><strong>Buffers</strong>: methods for stitching together patch data into 2- or 3-dimensional arrays, in addition to resampling methods for re-sizing the domain.</li><li><strong>Select</strong>: methods for extracting patches and data at given positions in the computational domain.</li><li><strong>Utils</strong>:  various QOL tools, such as functions for getting the number of snapshots in a folder, among other things.</li></ul><p>After having imported <code>JuliaDispatch</code>, you can include the functionality of any of these modules by doing</p><pre><code class="language-julia hljs">using JuliaDispatch.MODULENAME</code></pre><p>where <code>MODULENAME</code> is replaced by any of the abovementioned modules. Note that the module name is case-sensitive, and all modules have a capital first letter. You can also directly use a function within a module without explicitly importing it by doing</p><pre><code class="language-julia hljs">JuliaDispatch.MODULENAME.funcname(args...)</code></pre><p>where <code>funcname</code> is the name of the function exported by the module <code>MODULENAME</code>. </p><p>To quickly get the documentation for any function, use the <em>help</em> functionality of the REPL, which you can enter by typing <code>?</code>. You can then enter a function for which you want the documentation. For example</p><pre><code class="language-julia hljs">?
snapshot</code></pre><h2 id="Functionality"><a class="docs-heading-anchor" href="#Functionality">Functionality</a><a id="Functionality-1"></a><a class="docs-heading-anchor-permalink" href="#Functionality" title="Permalink"></a></h2><h3 id="Snapshots"><a class="docs-heading-anchor" href="#Snapshots">Snapshots</a><a id="Snapshots-1"></a><a class="docs-heading-anchor-permalink" href="#Snapshots" title="Permalink"></a></h3><p>The <code>snapshot</code> function returns a dictionary object. To access any of the snapshot&#39;s properties, use square brackets and strings. For example</p><pre><code class="language-julia hljs">time = snapshot[&quot;time&quot;]
println(time)</code></pre><p>gives you the time at which the snapshot was taken. To get all the properties of the snapshot, you can print all the keys or iterate over all key-value pairs</p><pre><code class="language-julia hljs">println(keys(snap))
# or
for (key, value) in snap
    println(key, &quot; &quot;, value)
end</code></pre><h3 id="Quantities"><a class="docs-heading-anchor" href="#Quantities">Quantities</a><a id="Quantities-1"></a><a class="docs-heading-anchor-permalink" href="#Quantities" title="Permalink"></a></h3><p>To see which quantities are present in the snapshot, you can print the <code>[&quot;idx&quot;][&quot;dict&quot;]</code> of a snapshot. This returns a dictionary with keys equal to the different quantites, and values as integers corresponding to their offset in the data files. Any quantity that has a value <code>&lt; 0</code> is present and can be extracted from the data files.</p><pre><code class="language- hljs">using JuliaDispatch, JuliaDispatch.Dispatch, JLD
data = &quot;../../test/data/orz/data/&quot; # hide
snap = snapshot(0, data=data)
for (k, v) in snap[&quot;idx&quot;][&quot;dict&quot;]
    println(k, &quot; &quot;, v)
end</code></pre><h3 id="Expression-Parsing"><a class="docs-heading-anchor" href="#Expression-Parsing">Expression Parsing</a><a id="Expression-Parsing-1"></a><a class="docs-heading-anchor-permalink" href="#Expression-Parsing" title="Permalink"></a></h3><p>The <code>JuliaDispatch</code> package has support for parsing expressions. This means that when extracting patch data, instead of requesting a quantity in a specific data slot, a string containing an expression can be sent in instead. The expression parser will then attempt to parse and evaluate the expression and the return the result for the given patch. Any function that accepts the <code>iv</code> keyword argument supports this functionality. Variables in your workspace can be interpolated into the expression using the <code>$</code> construct. Example</p><pre><code class="language- hljs">pi = 3.14 #
patch = snap[&quot;patches&quot;][1] # get the first patch
velocity = patch[&quot;var&quot;](&quot;$pi*sqrt(ux^2 + uy^2 + uz^2)&quot;) # equivalent to &quot;3.14*sqrt(ux^2 + uy^2 + uz^2)&quot;</code></pre><h3 id="Data-Interpolation"><a class="docs-heading-anchor" href="#Data-Interpolation">Data Interpolation</a><a id="Data-Interpolation-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Interpolation" title="Permalink"></a></h3><p>One of the main features of the package is the ability to stitch together and interpolate patch data. This can be done with both unigrid and mesh-refined simulations. Additionally, data can be up or downscaled to any given dimensions in order to either increase resolution or save memory. This functionality is exported by the <code>JuliaDispatch.Buffers</code> module. See [REF BUFFERS] for details.</p><h2 id="Usage-Examples"><a class="docs-heading-anchor" href="#Usage-Examples">Usage Examples</a><a id="Usage-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Usage-Examples" title="Permalink"></a></h2><h3 id="Loading-a-Snapshot"><a class="docs-heading-anchor" href="#Loading-a-Snapshot">Loading a Snapshot</a><a id="Loading-a-Snapshot-1"></a><a class="docs-heading-anchor-permalink" href="#Loading-a-Snapshot" title="Permalink"></a></h3><pre><code class="language- hljs">using JuliaDispatch
using JuliaDispatch.Dispatch
data = &quot;../test/data/orz/data&quot; # hide
snap = snapshot(100, data=data) # data is a string variable pointing to the folder containing the snapshots
println(&quot;Snapshot time: $(snap[&quot;time&quot;])&quot;) # get the time the snapshot was taken
println(&quot;Number of patches = $(length(snap[&quot;patches&quot;]))&quot;) # print the number of patches</code></pre><h3 id="Extracting-Interpolated-Data"><a class="docs-heading-anchor" href="#Extracting-Interpolated-Data">Extracting Interpolated Data</a><a id="Extracting-Interpolated-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Extracting-Interpolated-Data" title="Permalink"></a></h3><pre><code class="language- hljs">using JuliaDispatch.Buffers

density_plane = unigrid_plane(snap, iv=&quot;d&quot;, z=0.1) # get the density in the xy-plane at z=0.1
density_plane_downscaled = amr_plane(snap, iv=&quot;d&quot;, z=0.1, dims=(200, 300)) # amr_plane can be used to downscale/upscale data

density_volume = unigrid_volum(snap, iv=&quot;d&quot;) # similar for a 3D volume
density_volume_downscaled = amr_volume(snap, iv=&quot;d&quot;, dims=100)</code></pre><h3 id="Plotting"><a class="docs-heading-anchor" href="#Plotting">Plotting</a><a id="Plotting-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting" title="Permalink"></a></h3><pre><code class="language- hljs">using JuliaDispatch.Graphics

sliceplot(snap, iv=&quot;d&quot;, z=1.0) # plot a simple sliceplot of density at z=1.0
sliceplot(snap, iv=&quot;sqrt(bx^2+by^2+bz^2)&quot;, y=-10) # plot an expression
sliceplot(snap, iv=&quot;d&quot;, z=0.1, center=(3, 2), width=(6, 6)) # zoom in with (3,2) as the center and a width of (6, 6)
sliceplot(snap, iv=&quot;d&quot;, z=0.1, resample=true, dims=(400, 600)) # up/down-scale to a size of (400, 600)
sliceplot(snap, iv=&quot;ekin&quot;, z=0.1, linetype=:surf) # surface plot

plot_values_along(snap, [0.5, 0.5, 0.1], dir=3, iv=&quot;d&quot;) # plot density along z-axis through point (.5, .5, 0.1)
histogram_along(snap, [0.5, 0.5, 0.1], dir=3, iv=&quot;d&quot;, norm=:pdf, label=&quot;density&quot;) # histogram normalized to probability density
anim_pane(snap, ax=3, iv=&quot;d&quot;, nframes=20, start=0.0, stop=-10.0, savepath=&quot;test.gif&quot;) # animate a panning in z-direction from -10 to 0 </code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« JuliaDispatch: Analysis and Visualization Tools for Dispatch</a><a class="docs-footer-nextpage" href="../dispatch/">Dispatch »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.5 on <span class="colophon-date" title="Tuesday 10 August 2021 14:08">Tuesday 10 August 2021</span>. Using Julia version 1.6.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
